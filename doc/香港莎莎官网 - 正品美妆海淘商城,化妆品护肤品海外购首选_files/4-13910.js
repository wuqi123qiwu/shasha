var flx1=function(cnf){var dataQueue=[];var flushDataTimeout=null;var pixelBacklog=[];function placePixel(e){if(typeof navigator.onLine!=="undefined"&&navigator.onLine===false){pixelBacklog.push(e);return}if(pixelBacklog.length>0){for(var k in pixelBacklog){if(pixelBacklog.hasOwnProperty(k)){_placePixel(pixelBacklog[k])}}pixelBacklog=[]}return _placePixel(e)}function _placePixel(e){var t=document,n=t.createElement("script");n.async=!0,n.defer=!0,n.src=e,t.getElementsByTagName("head")[0].appendChild(n);return true}function pxl(e){var url=_getUrl(e);placePixel(url)}function _getUrl(e){var url="//"+flx1.cnf.d+e+getAdditionalParams()+"&r="+encodeURIComponent(document.referrer)+"&eurl="+encodeURIComponent(document.location.href)+"&rndm="+Math.random()*1e16;return url}function sendData(k,v,customData,onFlush,dispatchEvent){if(typeof dispatchEvent==="undefined"){dispatchEvent=true}var obj={k:k,v:v,custom:typeof customData==="undefined"||customData===null?false:customData};if(dispatchEvent){try{document.dispatchEvent(new CustomEvent("sendData",{detail:obj}))}catch(e){flx1.log(e)}}dataQueue.push(obj);if(flushDataTimeout!==null){clearTimeout(flushDataTimeout)}flushDataTimeout=setTimeout(function(){flushData();if(typeof onFlush==="function"){onFlush()}},100)}function flushData(){var url=flushDataUrl();if(url!==null){flx1.pxl(url)}}function flushDataUrl(){flushDataTimeout=null;if(dataQueue!==null&&dataQueue.length>0){var maxUrlLen=2048;var baseUrl="/px?id="+flx1.cnf.id+"&m="+flx1.cnf.m;var url=baseUrl;var customData={};var customDataStr="";for(var k in dataQueue){if(dataQueue.hasOwnProperty(k)){try{var elm=dataQueue[k];if(elm.custom===true){customData[elm.k]=elm.v;customDataStr="&data="+encodeURIComponent(toJson(customData))}else{url+="&"+elm.k+"="+encodeURIComponent(elm.v)}if(url.length+customDataStr.length>=maxUrlLen){flx1.pxl(url+customDataStr);url=baseUrl}}catch(e){flx1.log(e)}}}dataQueue=[];if(url!==baseUrl||customDataStr!==""){return url+customDataStr}}return null}function toJson(obj){if(window.Prototype){var toJSON=Array.prototype.toJSON;delete Array.prototype.toJSON}var json=JSON.stringify(obj);if(window.Prototype){Array.prototype.toJSON=toJSON}return json}function log(e){window.console&&console.log&&console.log(e);try{var errData={};if(typeof e!=="undefined"&&typeof e!==null){errData.err_msg=e.toString();if(typeof e["stack"]!=="undefined"&&e["stack"]!==null){errData.err_stack=e.stack.toString()}errData.err_pixel_id=cnf.id;errData.err_customer_id=cnf.m}_placePixel("//"+flx1.cnf.d+"/px?id=6864&m=11&data="+encodeURIComponent(toJson(errData)))}catch(forwardE){window.console&&console.log&&console.log(forwardE)}}function findCurrentScriptUrl(){var ret="";var scripts=document.getElementsByTagName("script");var searchString="/"+cnf.m+"-"+cnf.id+".js";for(var i=0,j=scripts.length;i<j;i++){if(scripts[i].src&&scripts[i].src.indexOf(searchString)!==-1){return scripts[i].src}}return ret}function getUrlParams(url){var urlParams={};if(!url){url=findCurrentScriptUrl()}if(url&&url.indexOf("?")!==-1){var match,pl=new RegExp("[+]","g"),search=new RegExp("([^&=]+)=?([^&]*)","g"),decode=function(s){return decodeURIComponent(s.replace(pl," "))},query=url.split("?")[1];while(match=search.exec(query)){urlParams[decode(match[1])]=decode(match[2])}}return urlParams}function getAdditionalParams(){var additionalParams="";var urlParams=getUrlParams();var paramsToSkip={m:1,id:1,d:1};for(var p in urlParams){if(urlParams.hasOwnProperty(p)){if(!paramsToSkip[p]){additionalParams+="&"+p+"="+encodeURIComponent(urlParams[p])}}}return additionalParams}function loadScript(a,b){var c=document.createElement("script");c.async=true,c.readyState?c.onreadystatechange=function(){if(c.readyState==="loaded"||c.readyState==="complete")c.onreadystatechange=null,b&&b()}:c.onload=function(){b&&b()},c.src=a,document.getElementsByTagName("head")[0].appendChild(c)}function loadjQuery(callback){if(typeof jQuery!=="undefined"){try{if(jQuery.hasOwnProperty("ui")===false){var version=jQuery.fn.jquery;var versionSplit=version.split(".");if(versionSplit.length>=2&&parseInt(versionSplit[0],10)===1&&parseInt(versionSplit[1],10)>=6){window.flx1_jQuery=window.jQuery}}}catch(e){flx1.log(e)}}if(typeof window.flx1_jQuery==="undefined"){loadScript("//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js",function(){window.flx1_jQuery=jQuery.noConflict(true);callback(window.flx1_jQuery)})}else{callback(window.flx1_jQuery)}}if(typeof window.navigator.sendBeacon==="function"){var finalFlush=function(){try{var dataUrl=flushDataUrl();if(dataUrl!==null){var url=_getUrl(dataUrl);if(url!==null){navigator.sendBeacon(url)}}}catch(e){flx1.log(e)}};window.addEventListener("unload",finalFlush,false)}var registeredModules={};function registerModule(id,func){try{if(typeof registeredModules[id]!=="undefined"){flx1.log("Module "+id+" already registered, overwriting with new instance")}if(typeof func!=="function"){flx1.log("Not a function for "+id);return}registeredModules[id]=func}catch(e){flx1.log(e)}}function loadModule(id){try{if(typeof registeredModules[id]!=="function"){flx1.log("No function registered for "+id);return}registeredModules[id]()}catch(e){flx1.log(e)}}function registerFunction(name,fn){flx1[name]=fn}return{pxl:pxl,_pxl:placePixel,cnf:cnf,log:log,data:sendData,getUrlParams:getUrlParams,jQuery:loadjQuery,loadScript:loadScript,registerModule:registerModule,registerFunction:registerFunction,loadModule:loadModule,toJson:toJson}}({id:"13910",m:"4",d:"go.flx1.com"});flx1.pxl("/px?id="+flx1.cnf.id+"&m="+flx1.cnf.m);
